{% load i18n lfs_modeltranslation_tags %}

<h2>{% trans 'SEO' %}</h2>

<form action="{{ action_url }}"
      method="post"
      id="product-seo-form">
    {% translatedfields form "meta_title" %}
        <div class="field">
            <div class="label">
                {% if obj.is_variant %}
                    {% switchlanguage translation_language %}
                        {{ form.active_meta_title }}
                    {% endswitchlanguage %}
                {% endif %}
                {{ translated_field.label_tag }}
            </div>

            {% if field.errors %}
                <div class="error">
                    {{ translated_field }}
                    {{ translated_field.errors }}
                </div>
            {% else %}
                <div>
                    {{ translated_field }}
                </div>
            {% endif %}
        </div>
    {% endtranslatedfields %}

    {% translatedfields form "meta_keywords" %}
        <div class="field">
            <div class="label">
                {% if obj.is_variant %}
                    {% switchlanguage translation_language %}
                        {{ form.active_meta_keywords }}
                    {% endswitchlanguage %}
                {% endif %}
                {{ translated_field.label_tag }}
            </div>

            {% if translated_field.errors %}
                <div class="error">
                    {{ translated_field }}
                    {{ translated_field.errors }}
                </div>
            {% else %}
                <div>
                    {{ translated_field }}
                </div>
            {% endif %}
        </div>
    {% endtranslatedfields %}

    {% translatedfields form "meta_description" %}
        <div class="field">
            <div class="label">
                {% if obj.is_variant %}
                    {% switchlanguage translation_language %}
                        {{ form.active_meta_description }}
                    {% endswitchlanguage %}
                {% endif %}

                {{ translated_field.label_tag }}
            </div>

            {% if translated_field.errors %}
                <div class="error">
                    {{ translated_field }}
                    {{ translated_field.errors }}
                </div>
            {% else %}
                <div>
                    {{ translated_field }}
                </div>
            {% endif %}
        </div>
    {% endtranslatedfields %}

    <div class="buttons">
        <input type="submit"
               value="{% trans "Save SEO" %}"
               class="ajax-save-button button" />
    </div>
</form>
